<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>16. Inception 发布日志 - Inception使用规范及说明文档</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "16. Inception 发布日志";
    var mkdocs_page_input_path = "release.md";
    var mkdocs_page_url = "/release/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Inception使用规范及说明文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Inception使用规范及说明文档</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../chapter1/">Inception序</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../source/">1. Inception 是如何诞生的</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../inception/">2. Inception 总述及体系结构</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../install/">3. Inception 安装说明</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../usage/">4. Inception 使用方法</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../option/">5. Inception 支持选项及意义</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup/">6. Inception 备份功能说明</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../rules/">7. Inception 审核规范及原则</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../variables/">8. Inception所支持的参数变量</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../results/">9. Inception结果集</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../command/">10. Inception命令集</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../requires/">11. Inception 对线上配置需求</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../extras/">12. Inception 额外功能说明</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../osc/">13. Inception 对OSC的支持</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../statistic/">14. Inception 的统计功能</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../queryprint/">15. Inception 语法树打印</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">16. Inception 发布日志</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#_1">发布日志</a></li>
                
                    <li><a class="toctree-l4" href="#2016323inception2123">2016年3月23日Inception2.1.23发布</a></li>
                
                    <li><a class="toctree-l4" href="#20151026inception2117">2015年10月26日Inception2.1.17发布</a></li>
                
                    <li><a class="toctree-l4" href="#2015918inception219">2015年9月18日Inception2.1.9发布</a></li>
                
                    <li><a class="toctree-l4" href="#2015828inception2018-beta">2015年8月28日Inception2.0.18-beta发布</a></li>
                
                    <li><a class="toctree-l4" href="#201583inception2013-beta">2015年8月3日Inception2.0.13-beta发布</a></li>
                
                    <li><a class="toctree-l4" href="#201561inception203-beta">2015年6月1日Inception2.0.3-beta发布</a></li>
                
                    <li><a class="toctree-l4" href="#2015522inception200-beta">2015年5月22日Inception2.0.0-beta发布</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../users/">17. Inception 使用企业</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Inception使用规范及说明文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>16. Inception 发布日志</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="_1">发布日志</h1>
<h3 id="2016323inception2123">2016年3月23日Inception2.1.23发布</h3>
<ol>
<li>[<strong>新增</strong>]增加参数inception_osc_alter_foreign_keys_method，为了解决pt工具改表时 在没有外键的情况下，还是查information schema，导致在库表很多的情况下 非常慢的问题，加上这个参数，默认为none，就不会去查了，速度非常快，并且 可以减少内存的暴涨</li>
<li>[<strong>新增</strong>]新增一种选项，--sleep，用来在执行每条语句之后，都可以在inception内部暂停指定ms数，单位为毫秒。这样可以缓解对线上数据库的冲击，详情请参照&lt;&lt;<strong>Inception支持选项及意义</strong>&gt;&gt;</li>
</ol>
<h3 id="20151026inception2117">2015年10月26日Inception2.1.17发布</h3>
<ol>
<li>[<strong>新增</strong>]新增inception get osc processlist的功能，这个语句可以查看所有当前正在执行的OSC线程。</li>
<li>[<strong>新增</strong>]新增inception get processlist的功能，这个语句可以查看所有当前正在执行的线程。</li>
<li>[<strong>新增</strong>]新增参数inception_osc_recursion_method，可以配置在执行OSC时，因为从库有延迟，或者复制停止导致不能正常执行OSC时，可以设置这个参数为NONE跳过slave的检查。</li>
<li>修改在timestamp类型的列设置默认值为合法的日期，但不在其合法范围内没有报错的问题。</li>
<li>修改回滚语句拼写错误的问题（多了一个AND）</li>
<li>修改在只读模式下、不是执行模式的情况下，没有填备份信息还报非法备份的问题</li>
<li>修改time类型的列建表指定默认值时，报非法默认值的问题</li>
<li>修改在不同数据库下，执行相同的ALTER表时，生成的sha1是一样的，导致在获取进度时不准确的问题</li>
<li>修改在生成drop index回滚语句时，ADD INDEX后面的列存在语法错误的问题</li>
<li>修改在生成回滚语句时，注释太长导致栈溢出的问题</li>
</ol>
<h3 id="2015918inception219">2015年9月18日Inception2.1.9发布</h3>
<ol>
<li>[<strong>新增</strong>]新增参数inception_check_identifier</li>
<li>[<strong>新增</strong>]加入打印执行计划的功能</li>
<li>修改在打印及审核表达式时字符串溢出导致内存覆盖的问题</li>
<li>修改在多个加列并且有AFTER的时候，代码变量没有重置导致检查失败的问题</li>
<li>对增删改查语句中的表达式检查的重构，不会漏掉一个表达式，检查更彻底，在Inception中一个比较遗憾的工作终于搞定了。</li>
<li>修改Inception在启动的时候，错误的加载了非Inception配置文件组导致启动不成功的问题</li>
<li>修改对时间类型默认值的检查，不考虑线上sql_mode值，只要是非法的时间值，都报警,时间类型包括所有的DATE、DATETIME、TIMESTAMP，默认值包括INT，STRING及DECIMAL等</li>
<li>修改在处理sqlmode时代码错误导致系统崩溃的问题</li>
<li>修改在回滚语句很长时，回滚表对应的字段为TEXT，导致语句被截断的问题，已经修改为Medium类型的TEXT。</li>
<li>修改在生成回滚语句时，当主键不在第一个列时导致生成的语句存在语法错误的问题。</li>
<li>废弃参数inception_ddl_support，请更新之后，不要再使用，已经不起作用了（之前手册也没有出现过，可以忽略）</li>
</ol>
<h3 id="2015828inception2018-beta">2015年8月28日Inception2.0.18-beta发布</h3>
<ol>
<li>修改在binlogformat已经是ROW的情况下，还去设置，导致有些没有super权限时出错的问题</li>
<li>修改在创建索引时，索引列为前缀索引时，没有考虑前缀长度，导致报大于767的问题</li>
<li>加入对非法时间值在创建表及更改表时，没有报错的问题</li>
<li>修改oSC执行时结果集名字错误的问题</li>
<li>修改在截取alter table 真正修改的内容时，如果有注释内容，会出错的问题</li>
</ol>
<h3 id="201583inception2013-beta">2015年8月3日Inception2.0.13-beta发布</h3>
<ol>
<li>新增使用event对象的检查</li>
<li>修改多表更新时，审核通过，执行失败的问题</li>
<li>在表列定义为int(2)类似的情况下，会导致在设置Binlog解析记录长度时错误导致内存correption的问题</li>
<li>在解析binlog出错之后，没有再去dump导致直接读取网络引起一直阻塞的问题</li>
<li>修改对线上数据库操作时，数据库名字没有加"`"导致报错的问题</li>
<li>修改设置BLOB/TEXT为NOT NULL时报错级别为警告</li>
<li>禁止在语句中直接使用@uservar类型的表达式</li>
<li>修复Inception备份时Binlog解析错乱的问题</li>
<li>增加对创建索引及新建表中，索引长度超过767的检查</li>
<li>修改在生成ALTER回滚语句出错的问题</li>
</ol>
<h3 id="201561inception203-beta">2015年6月1日Inception2.0.3-beta发布</h3>
<p>新增：<br />
1. 实现OSC执行的取消功能<br />
2. 在审核前获取一些线上参数来辅助审核，比如参数：explicit_defaults_for_timestamp
修复：<br />
1. 在Inception没有dump binlog权限的情况下，备份时Inception会陷入死循环的问题  </p>
<h3 id="2015522inception200-beta">2015年5月22日Inception2.0.0-beta发布</h3>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../users/" class="btn btn-neutral float-right" title="17. Inception 使用企业">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../queryprint/" class="btn btn-neutral" title="15. Inception 语法树打印"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../queryprint/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../users/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
